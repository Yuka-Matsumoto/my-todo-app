graph TB
    subgraph "クライアント"
        A[ブラウザ]
    end

    subgraph "フロントエンド"
        B[Next.js]
    end

    subgraph "バックエンド"
        C[Flask]
        D[認証]
        G[Python]
    end

    subgraph "データベース"
        E[(PostgreSQL)]
    end

    subgraph "外部サービス"
        F[Stripe API]
    end

    A <--> B
    B <--> C
    C <--> D
    C <--> E
    C <--> F
    G --- C
    G --- D